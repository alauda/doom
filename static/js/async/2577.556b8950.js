"use strict";(self.webpackChunk_alauda_doom=self.webpackChunk_alauda_doom||[]).push([["2577"],{13868:function(s,e,n){n.r(e),n.d(e,{default:()=>o});var r=n(85893),a=n(50065),i=n(18237),l=n(64011);function c(s){let e={a:"a",code:"code",div:"div",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...(0,a.a)(),...s.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"api-文档",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#api-文档",children:"#"}),"API 文档"]}),"\n",(0,r.jsx)(e.p,{children:"根据实际业务，我们一般会将 API 分为高级 API 和 CRD (Custom Resource Definition) 两种，因此在目录结构上一般分为："}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-sh",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" apis"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" advanced-apis"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # 高级 API"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   ├──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" crds"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # CRDs"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"│"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:"   └──"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string)"},children:" references"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-comment)"},children:" # 公共引用"})]})]})})}),"\n","\n",(0,r.jsxs)(e.div,{className:"doom-auto-toc rspress-toc-exclude",children:[(0,r.jsxs)(e.h2,{id:"toc",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#toc",children:"#"}),(0,l.$G)()("toc")]}),(0,r.jsx)(i.o,{})]}),"\n",(0,r.jsxs)(e.h2,{id:"高级-api",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#高级-api",children:"#"}),"高级 API"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"advanced-apis/codeQualityTaskSummary.mdx",children:(0,r.jsxs)(e.code,{className:"language-mdx",children:[(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"# CodeQualityTaskSummary"})}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"OpenAPIPath"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" path"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/plugins/v1alpha1/template/codeQuality/task/{task-id}/summary"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]})]})})}),"\n",(0,r.jsxs)(e.p,{children:["参考 ",(0,r.jsx)(e.a,{href:"/zh/apis/advanced-apis/codeQualityTaskSummary.html",children:"CodeQualityTaskSummary"}),"。"]}),"\n",(0,r.jsxs)(e.h3,{id:"props",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#props",children:"#"}),(0,r.jsx)(e.code,{children:"props"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"path"}),": OpenAPI schema ",(0,r.jsx)(e.code,{children:"paths"})," 下的路径"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"pathPrefix"}),": 可以用于覆盖全局配置中的 ",(0,r.jsx)(e.code,{children:"api.pathPrefix"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"openapiPath"}),": 参考",(0,r.jsx)(e.a,{href:"#%E6%8C%87%E5%AE%9A-openapi-%E8%B7%AF%E5%BE%84",children:"指定 openapi 路径"})]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"crd",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#crd",children:"#"}),"CRD"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"crds/ArtifactCleanupRun.mdx",children:(0,r.jsxs)(e.code,{className:"language-mdx",children:[(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"# ArtifactCleanupRun"})}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"K8sCrd"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" name"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"artifactcleanupruns.artifacts.katanomi.dev"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]})]})})}),"\n",(0,r.jsxs)(e.p,{children:["参考 ",(0,r.jsx)(e.a,{href:"/zh/apis/crds/ArtifactCleanupRun.html",children:"ArtifactCleanupRun"}),"。"]}),"\n",(0,r.jsxs)(e.h3,{id:"props-1",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#props-1",children:"#"}),(0,r.jsx)(e.code,{children:"props"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"name"}),": CRD ",(0,r.jsx)(e.code,{children:"metadata.name"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"crdPath"}),": 类似",(0,r.jsx)(e.a,{href:"#%E6%8C%87%E5%AE%9A-openapi-%E8%B7%AF%E5%BE%84",children:"指定 openapi 路径"}),"，用于指定特定的 CRD 文件"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"公共引用",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#公共引用",children:"#"}),"公共引用"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",title:"references/CodeQuality.mdx",children:(0,r.jsxs)(e.code,{className:"language-mdx",children:[(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"# CodeQuality"})}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"OpenAPIRef"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:" schema"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"v1alpha1.CodeQuality"'}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:" />"})]})]})})}),"\n",(0,r.jsxs)(e.p,{children:["参考 ",(0,r.jsx)(e.a,{href:"/zh/apis/references/CodeQuality.html",children:"CodeQuality"}),"。"]}),"\n",(0,r.jsxs)(e.h3,{id:"props-2",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#props-2",children:"#"}),(0,r.jsx)(e.code,{children:"props"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"schema"}),": OpenAPI schema ",(0,r.jsx)(e.code,{children:"definitions"}),"(v2) or ",(0,r.jsx)(e.code,{children:"component/schemas"}),"(v3) 下的名称"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"openapiPath"}),": 参考",(0,r.jsx)(e.a,{href:"#%E6%8C%87%E5%AE%9A-openapi-%E8%B7%AF%E5%BE%84",children:"指定 openapi 路径"})]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"指定-openapi-路径",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#指定-openapi-路径",children:"#"}),"指定 openapi 路径"]}),"\n",(0,r.jsxs)(e.p,{children:["对于 ",(0,r.jsx)(e.code,{children:"OpenAPIPath"})," 和 ",(0,r.jsx)(e.code,{children:"OpenAPIRef"})," 组件，默认会在所有 openapi 定义文件中查找至匹配，如果需要指定特定的 openapi 文件，可以使用 ",(0,r.jsx)(e.code,{children:"openapiPath"})," 属性指定："]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(e.pre,{className:"shiki css-variables",style:{backgroundColor:"var(--shiki-background)",color:"var(--shiki-foreground)"},tabIndex:"0",children:(0,r.jsxs)(e.code,{className:"language-mdx",children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"<"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"OpenAPIPath"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  path"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"/plugins/v1alpha1/template/codeQuality/task/{task-id}/summary"'})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"  openapiPath"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"shared/openapis/katanomi.json"'})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-foreground)"},children:"/>"})})]})})})]})}function o(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,a.a)(),...s.components};return e?(0,r.jsx)(e,{...s,children:(0,r.jsx)(c,{...s})}):c(s)}o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["zh%2Fusage%2Fapi.md"]={toc:[{id:"高级-api",text:"高级 API",depth:2},{id:"props",text:"`props`",depth:3},{id:"crd",text:"CRD",depth:2},{id:"props-1",text:"`props`",depth:3},{id:"公共引用",text:"公共引用",depth:2},{id:"props-2",text:"`props`",depth:3},{id:"指定-openapi-路径",text:"指定 openapi 路径",depth:2}],title:"API 文档",headingTitle:"API 文档",frontmatter:{weight:5}}}}]);